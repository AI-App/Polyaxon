---
version: 0.6

kind: job

tags: [tensorflow]

profile: "profile A"

environment:
  log_level: INFO
  docker: {enabled: true}
  auth: {enabled: true}
  shm: {enabled: true}

contexts:
  secrets:
  - name: my_ssh_secret
    mount_path: ~/.ssh/id_rsa
  config_maps:
  - name: config_map1
  - name: config_map2
    items: ['item1', 'item2']
  artifacts:
  - name: data1
    paths: ['path1', 'path2']
    managed: true
  - name: data2
    managed: true
  repos:
  - name: repo1
    commit: commit-hash
  - name: repo2
    branch: master
    commit: commit-hash
  outputs:
    enabled: true
    managed: true
  registry: "A"
  build:
    image: my_image
    build_steps:
    - pip install package1
    env_vars:
    - ['KEY1', 'en_US.UTF-8']
    - ['KEY2', 2]


container:
  image: my_image
  command: video_prediction_train
  args: [--model=DNA, --num_masks=1]
...
